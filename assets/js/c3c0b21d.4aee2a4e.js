"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[299],{1184:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(4041);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}},5741:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"plugins/character-limit","title":"Character Limit","description":"Limit number of characters in a GraphQL query document.","source":"@site/docs/plugins/character-limit.md","sourceDirName":"plugins","slug":"/plugins/character-limit","permalink":"/graphql-armor/docs/plugins/character-limit","draft":false,"unlisted":false,"editUrl":"https://github.com/Escape-Technologies/graphql-armor/blob/main/services/docs/docs/plugins/character-limit.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Block field suggestions","permalink":"/graphql-armor/docs/plugins/block-field-suggestions"},"next":{"title":"Cost limit","permalink":"/graphql-armor/docs/plugins/cost-limit"}}');var t=i(1085),s=i(1184);const o={},l="Character Limit",a={},c=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"With <code>@envelop/core</code> from <code>@the-guild-org</code>",id:"with-envelopcore-from-the-guild-org",level:3},{value:"Design considerations",id:"design-considerations",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"character-limit",children:"Character Limit"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Limit"})," number of ",(0,t.jsx)(n.strong,{children:"characters"})," in a GraphQL query document."]}),"\n",(0,t.jsxs)(n.p,{children:["This help preventing ",(0,t.jsx)(n.strong,{children:"DoS attacks"})," by hard-limiting the size of the query document."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#installation",children:"Installation"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#usage",children:"Usage"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"#with-envelopcore-from-the-guild-org",children:["With ",(0,t.jsx)(n.code,{children:"@envelop/core"})," from ",(0,t.jsx)(n.code,{children:"@the-guild-org"})]})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#design-considerations",children:"Design considerations"})}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Out of core",type:"caution",children:(0,t.jsx)(n.p,{children:"This plugin is not part of the core package, you need to install it separately."})}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @escape.tech/graphql-armor-character-limit\n\n# yarn\nyarn add @escape.tech/graphql-armor-character-limit\n"})}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsxs)(n.h3,{id:"with-envelopcore-from-the-guild-org",children:["With ",(0,t.jsx)(n.code,{children:"@envelop/core"})," from ",(0,t.jsx)(n.code,{children:"@the-guild-org"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { envelop } from '@envelop/core';\nimport { characterLimitPlugin } from '@escape.tech/graphql-armor-character-limit';\n\nconst getEnveloped = envelop({\n  plugins: [\n    // ... other plugins ...\n    characterLimitPlugin({\n        maxLength: 15000, // Number of characters allowed | Default: 15000\n    }),\n  ]\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"design-considerations",children:"Design considerations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"We recommend using the max-tokens plugin instead of this one."}),"\n",(0,t.jsx)(n.li,{children:"This plugin is not part of the core package as your engine may provide such feature."}),"\n",(0,t.jsx)(n.li,{children:"This plugin does not limit the size of input variables."}),"\n",(0,t.jsx)(n.li,{children:"This plugin relies on a parser plugin to works and access query document through the context."}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);